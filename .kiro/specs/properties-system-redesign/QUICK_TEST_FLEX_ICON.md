# 快速测试指南 - Flex 容器和图标修复

## 测试环境准备

1. 启动开发服务器

```bash
npm run dev
```

2. 打开浏览器访问设计器页面

## 测试步骤

### 测试 1: Flex 容器可视化配置

**目标**: 验证 Flex 容器的可视化配置功能

**步骤**:

1. 在组件库中找到"弹性布局"(Flex)组件
2. 拖拽到画布上
3. 选中 Flex 容器
4. 在右侧属性面板中找到"Flex布局"折叠框
5. 测试以下配置：
   - **主轴方向**: 点击不同的方向按钮（水平、水平反向、垂直、垂直反向）
   - **主轴对齐**: 点击不同的对齐按钮
   - **交叉轴对齐**: 点击不同的对齐按钮
   - **间距**: 在输入框中输入不同的数值（如 0, 8, 16, 24）
6. 观察预览框中的实时效果变化

**预期结果**:

- ✅ 所有按钮点击后应高亮显示当前选中状态
- ✅ 预览框中的三个方块应根据配置实时调整布局
- ✅ 间距输入框应能输入数字并实时生效
- ✅ 画布中的 Flex 容器应反映配置的变化

### 测试 2: 宽度/高度输入框布局

**目标**: 验证宽度和高度输入框有足够的空间

**步骤**:

1. 选择任意组件（如按钮、文本等）
2. 打开右侧属性面板
3. 切换到"布局样式"标签
4. 找到"宽度"和"高度"字段

**预期结果**:

- ✅ 宽度和高度输入框应占据更多横向空间
- ✅ 输入框应该足够宽，方便输入和查看完整的值
- ✅ 单位选择器应正常显示和工作

### 测试 3: 按钮图标选择和显示

**目标**: 验证按钮组件的图标选择功能正常工作

**步骤**:

1. 在组件库中找到"按钮"组件
2. 拖拽到画布上
3. 选中按钮
4. 在右侧属性面板中找到"按钮属性"折叠框
5. 找到"图标"字段
6. 点击"选择"按钮
7. 在弹出的图标库中选择一个图标（如 HomeOutlined）
8. 点击确定或直接点击图标

**预期结果**:

- ✅ 图标库弹窗应正常打开
- ✅ 图标库中应显示所有可用的 Ant Design 图标
- ✅ 选择图标后，弹窗应关闭
- ✅ 图标字段应显示选中的图标名称和预览
- ✅ **画布中的按钮应立即显示选中的图标**
- ✅ 图标应显示在按钮文本的左侧

**额外测试**:

1. 尝试切换不同的图标，确认每次都能正确显示
2. 点击图标字段的清除按钮（X），确认图标被移除
3. 保存页面后刷新，确认图标配置被正确保存和加载

### 测试 4: 综合测试

**目标**: 验证所有修复在实际使用中的稳定性

**步骤**:

1. 创建一个 Flex 容器
2. 在 Flex 容器中添加 3 个按钮
3. 为每个按钮设置不同的图标
4. 调整 Flex 容器的布局配置
5. 调整按钮的宽度和高度
6. 保存页面
7. 刷新浏览器
8. 验证所有配置都被正确保存和恢复

**预期结果**:

- ✅ Flex 容器的布局配置正确应用到子组件
- ✅ 所有按钮的图标正确显示
- ✅ 宽度和高度配置正确应用
- ✅ 保存和加载功能正常工作

## 常见问题排查

### 问题 1: 图标不显示

**可能原因**:

- 图标名称不正确
- 图标组件导入失败

**排查步骤**:

1. 打开浏览器控制台，查看是否有错误信息
2. 检查按钮组件的 props.icon 值是否正确
3. 确认 Ant Design Icons 包已正确安装

### 问题 2: Flex 配置不生效

**可能原因**:

- 属性更新没有正确传递
- 样式没有正确应用

**排查步骤**:

1. 打开浏览器控制台，查看属性更新日志
2. 检查 Flex 容器的 styles 属性
3. 使用浏览器开发者工具检查元素的实际 CSS 样式

### 问题 3: 宽度/高度输入框显示异常

**可能原因**:

- 布局配置没有正确应用
- CSS 样式冲突

**排查步骤**:

1. 检查 LayoutPanel.ts 中的 span 配置
2. 使用浏览器开发者工具检查字段的实际布局

## 成功标准

所有测试通过，且满足以下条件：

- ✅ Flex 容器可视化配置功能完整且易用
- ✅ 宽度/高度输入框有足够的空间
- ✅ 按钮图标选择后能正确显示
- ✅ 所有配置能正确保存和加载
- ✅ 没有控制台错误或警告

## 报告问题

如果发现任何问题，请记录：

1. 问题描述
2. 重现步骤
3. 预期行为
4. 实际行为
5. 浏览器控制台的错误信息
6. 截图或录屏

---

**测试完成日期**: ******\_******

**测试人员**: ******\_******

**测试结果**: ⬜ 通过 ⬜ 失败

**备注**: ******\_******
