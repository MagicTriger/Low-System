# æ•°æ®ç»‘å®šåŠŸèƒ½

## ğŸ“– æ¦‚è¿°

æ•°æ®ç»‘å®šåŠŸèƒ½æ˜¯ä½ä»£ç å¹³å°è®¾è®¡å™¨çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œå®ƒä½¿è®¾è®¡å™¨èƒ½å¤Ÿåˆ›å»ºçœŸæ­£çš„æ•°æ®é©±åŠ¨é¡µé¢ã€‚è¯¥åŠŸèƒ½åŒ…æ‹¬ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ï¼š

1. **æ•°æ®æµé…ç½®** - å¯¹æ•°æ®æºçš„æ•°æ®è¿›è¡Œè½¬æ¢å’Œå¤„ç†
2. **æ•°æ®æ“ä½œé…ç½®** - å®ç°æ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰
3. **ç»„ä»¶æ•°æ®ç»‘å®š** - å°†ç»„ä»¶ç»‘å®šåˆ°æ•°æ®æºæˆ–æ•°æ®æµ

## âœ¨ ä¸»è¦ç‰¹æ€§

### æ•°æ®æµè½¬æ¢

- âœ… **è¿‡æ»¤ï¼ˆFilterï¼‰** - æ”¯æŒå¤šç§è¿ç®—ç¬¦å’Œé€»è¾‘ç»„åˆ
- âœ… **æ˜ å°„ï¼ˆMapï¼‰** - å­—æ®µé‡å‘½åã€è·¯å¾„è®¿é—®ã€è½¬æ¢è¡¨è¾¾å¼
- âœ… **æ’åºï¼ˆSortï¼‰** - å•å­—æ®µå’Œå¤šå­—æ®µæ’åº
- âœ… **èšåˆï¼ˆAggregateï¼‰** - åˆ†ç»„å’Œèšåˆå‡½æ•°ï¼ˆcount, sum, avg, min, maxï¼‰

### æ•°æ®æ“ä½œ

- âœ… **åˆ›å»ºï¼ˆCreateï¼‰** - æ”¯æŒæ•°æ®æ˜ å°„å’Œå›è°ƒ
- âœ… **è¯»å–ï¼ˆReadï¼‰** - æ”¯æŒæŸ¥è¯¢å‚æ•°å’Œåˆ†é¡µ
- âœ… **æ›´æ–°ï¼ˆUpdateï¼‰** - æ”¯æŒæ¡ä»¶å’Œæ•°æ®æ˜ å°„
- âœ… **åˆ é™¤ï¼ˆDeleteï¼‰** - æ”¯æŒç¡®è®¤æç¤ºå’Œå›è°ƒ

### æ•°æ®ç»‘å®š

- âœ… **ç›´æ¥ç»‘å®š** - ç»„ä»¶ç›´æ¥ç»‘å®šåˆ°æ•°æ®æº
- âœ… **æ•°æ®æµç»‘å®š** - ç»„ä»¶ç»‘å®šåˆ°æ•°æ®æµï¼ˆç»è¿‡è½¬æ¢ï¼‰
- âœ… **æ‰‹åŠ¨ç»‘å®š** - é€šè¿‡äº‹ä»¶è§¦å‘
- âœ… **è‡ªåŠ¨åˆ·æ–°** - æ”¯æŒå®šæ—¶åˆ·æ–°å’Œæ•°æ®ç›‘å¬

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts                          # ç±»å‹å®šä¹‰
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ renderer/
â”‚   â”‚   â””â”€â”€ designer/
â”‚   â”‚       â”œâ”€â”€ managers/
â”‚   â”‚       â”‚   â”œâ”€â”€ DataBindingManager.ts    # æ•°æ®ç»‘å®šç®¡ç†å™¨
â”‚   â”‚       â”‚   â”œâ”€â”€ DataFlowManager.ts       # æ•°æ®æµç®¡ç†å™¨
â”‚   â”‚       â”‚   â””â”€â”€ DataActionManager.ts     # æ•°æ®æ“ä½œç®¡ç†å™¨
â”‚   â”‚       â””â”€â”€ communication/
â”‚   â”‚           â”œâ”€â”€ DataFlowPanel.vue        # æ•°æ®æµé…ç½®é¢æ¿
â”‚   â”‚           â””â”€â”€ DataActionPanel.vue      # æ•°æ®æ“ä½œé…ç½®é¢æ¿
â”‚   â””â”€â”€ runtime/
â”‚       â”œâ”€â”€ DataFlowEngine.ts                # æ•°æ®æµå¼•æ“
â”‚       â”œâ”€â”€ DataBindingExecutor.ts           # æ•°æ®ç»‘å®šæ‰§è¡Œå™¨
â”‚       â”œâ”€â”€ DataActionExecutor.ts            # æ•°æ®æ“ä½œæ‰§è¡Œå™¨
â”‚       â””â”€â”€ RuntimeManager.ts                # è¿è¡Œæ—¶ç®¡ç†å™¨
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

æ‰€æœ‰ä»£ç å·²ç»å®ç°ï¼Œæ— éœ€é¢å¤–å®‰è£…ã€‚

### åŸºæœ¬ä½¿ç”¨

```typescript
import { DataFlowManager, DataActionManager, DataBindingManager } from '@/core/renderer/designer/managers'

// åˆ›å»ºç®¡ç†å™¨å®ä¾‹
const dataFlowManager = new DataFlowManager()
const dataActionManager = new DataActionManager()
const dataBindingManager = new DataBindingManager()

// åˆ›å»ºæ•°æ®æµ
const dataFlow = dataFlowManager.createDataFlow({
  name: 'ç”¨æˆ·è¿‡æ»¤',
  sourceId: 'users_api',
  transforms: [
    {
      id: 'filter_1',
      type: 'filter',
      enabled: true,
      config: {
        type: 'filter',
        conditions: [{ field: 'age', operator: 'gte', value: 18 }],
        logic: 'AND',
      },
    },
  ],
})

// åˆ›å»ºæ•°æ®ç»‘å®š
dataBindingManager.createBinding('table_1', 'ç”¨æˆ·è¡¨æ ¼', 'Table', {
  source: 'users_api',
  bindingType: 'dataflow',
  dataFlowId: dataFlow.id,
  autoLoad: true,
})
```

## ğŸ“š æ–‡æ¡£

- [éœ€æ±‚æ–‡æ¡£](./requirements.md) - è¯¦ç»†çš„åŠŸèƒ½éœ€æ±‚å’ŒéªŒæ”¶æ ‡å‡†
- [è®¾è®¡æ–‡æ¡£](./design.md) - æŠ€æœ¯æ¶æ„å’Œè®¾è®¡æ–¹æ¡ˆ
- [ä»»åŠ¡åˆ—è¡¨](./tasks.md) - å®ç°ä»»åŠ¡æ¸…å•
- [å®ç°çŠ¶æ€](./IMPLEMENTATION_STATUS.md) - å½“å‰å®ç°è¿›åº¦
- [å¿«é€Ÿå¼€å§‹](./QUICK_START.md) - å¿«é€Ÿä¸Šæ‰‹æŒ‡å—
- [ç¤ºä¾‹ä»£ç ](./EXAMPLES.md) - å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹
- [APIå‚è€ƒ](./API_REFERENCE.md) - è¯¦ç»†çš„APIæ–‡æ¡£

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

### æ•°æ®æµï¼ˆDataFlowï¼‰

æ•°æ®æµæ˜¯ä¸€ç³»åˆ—æ•°æ®è½¬æ¢æ­¥éª¤çš„ç»„åˆï¼Œç”¨äºå¯¹æ•°æ®æºçš„æ•°æ®è¿›è¡Œå¤„ç†ã€‚

```typescript
const dataFlow = {
  id: 'flow_1',
  name: 'ç”¨æˆ·æ•°æ®å¤„ç†',
  sourceId: 'users_api',
  transforms: [
    { type: 'filter', config: {...} },  // è¿‡æ»¤
    { type: 'map', config: {...} },     // æ˜ å°„
    { type: 'sort', config: {...} },    // æ’åº
    { type: 'aggregate', config: {...} } // èšåˆ
  ]
}
```

### æ•°æ®æ“ä½œï¼ˆDataActionï¼‰

æ•°æ®æ“ä½œå®šä¹‰äº†å¯¹æ•°æ®æºçš„CRUDæ“ä½œã€‚

```typescript
const dataAction = {
  id: 'action_1',
  name: 'åˆ›å»ºç”¨æˆ·',
  type: 'create',
  sourceId: 'users_api',
  config: {
    dataMapping: { name: 'form.name', email: 'form.email' },
    onSuccess: [{ type: 'control', target: 'table', method: 'refresh' }],
  },
}
```

### æ•°æ®ç»‘å®šï¼ˆDataBindingï¼‰

æ•°æ®ç»‘å®šå°†ç»„ä»¶ä¸æ•°æ®æºæˆ–æ•°æ®æµå…³è”èµ·æ¥ã€‚

```typescript
const binding = {
  source: 'users_api',
  bindingType: 'dataflow',
  dataFlowId: 'flow_1',
  autoLoad: true,
  refreshInterval: 30000,
}
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **TypeScript** - ç±»å‹å®‰å…¨çš„JavaScriptè¶…é›†
- **Vue 3** - æ¸è¿›å¼JavaScriptæ¡†æ¶
- **Ant Design Vue** - ä¼ä¸šçº§UIç»„ä»¶åº“

## ğŸ“Š æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è®¾è®¡å™¨å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æ•°æ®æµé¢æ¿   â”‚  â”‚ æ•°æ®æ“ä½œé¢æ¿ â”‚  â”‚ å±æ€§é¢æ¿     â”‚  â”‚
â”‚  â”‚ DataFlowPanelâ”‚  â”‚ DataActionPanelâ”‚ â”‚ (æ•°æ®ç»‘å®š)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç®¡ç†å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ DataFlowMgr  â”‚  â”‚ DataActionMgrâ”‚  â”‚ DataBindingMgrâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è¿è¡Œæ—¶å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ DataFlowEngineâ”‚ â”‚ DataActionExecâ”‚ â”‚ DataBindingExecâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ•°æ®æºå±‚                                â”‚
â”‚              DataSourceManager                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šç”¨æˆ·åˆ—è¡¨è¿‡æ»¤

```typescript
// åˆ›å»ºæ•°æ®æµï¼šè¿‡æ»¤18å²ä»¥ä¸Šçš„æ´»è·ƒç”¨æˆ·
const userFlow = dataFlowManager.createDataFlow({
  name: 'æˆå¹´æ´»è·ƒç”¨æˆ·',
  sourceId: 'users_api',
  transforms: [
    {
      id: 'filter_1',
      type: 'filter',
      enabled: true,
      config: {
        type: 'filter',
        conditions: [
          { field: 'age', operator: 'gte', value: 18 },
          { field: 'status', operator: 'eq', value: 'active' },
        ],
        logic: 'AND',
      },
    },
  ],
})
```

### åœºæ™¯2ï¼šé”€å”®æ•°æ®ç»Ÿè®¡

```typescript
// åˆ›å»ºæ•°æ®æµï¼šæŒ‰éƒ¨é—¨ç»Ÿè®¡é”€å”®é¢
const salesFlow = dataFlowManager.createDataFlow({
  name: 'éƒ¨é—¨é”€å”®ç»Ÿè®¡',
  sourceId: 'sales_api',
  transforms: [
    {
      id: 'agg_1',
      type: 'aggregate',
      enabled: true,
      config: {
        type: 'aggregate',
        groupBy: ['department'],
        aggregations: [
          { field: 'amount', function: 'sum', alias: 'totalSales' },
          { field: 'id', function: 'count', alias: 'orderCount' },
        ],
      },
    },
  ],
})
```

### åœºæ™¯3ï¼šè¡¨å•æäº¤

```typescript
// åˆ›å»ºæ•°æ®æ“ä½œï¼šæäº¤ç”¨æˆ·è¡¨å•
const createAction = dataActionManager.createDataAction({
  name: 'åˆ›å»ºç”¨æˆ·',
  type: 'create',
  sourceId: 'users_api',
  config: {
    type: 'create',
    dataMapping: {
      name: 'form.name',
      email: 'form.email',
      age: 'form.age',
    },
    onSuccess: [
      { type: 'control', target: 'userTable', method: 'refresh' },
      { type: 'control', target: 'createForm', method: 'reset' },
    ],
  },
})
```

## ğŸ§ª æµ‹è¯•

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®ç°å¹¶é€šè¿‡TypeScriptç±»å‹æ£€æŸ¥ã€‚

```bash
# æ£€æŸ¥ç±»å‹é”™è¯¯
npm run type-check

# è¿è¡Œæµ‹è¯•ï¼ˆå¦‚æœæœ‰ï¼‰
npm run test
```

## ğŸ“ å¾…åŠäº‹é¡¹

- [ ] åœ¨å±æ€§é¢æ¿ä¸­æ·»åŠ æ•°æ®ç»‘å®šé…ç½®UI
- [ ] åœ¨å·¦ä¾§é¢æ¿ä¸­é›†æˆæ•°æ®æµå’Œæ•°æ®æ“ä½œé¢æ¿
- [ ] å®ç°æ•°æ®æºç®¡ç†å™¨çš„å®é™…é›†æˆ
- [ ] å®ç°è½¬æ¢æ­¥éª¤çš„å¯è§†åŒ–ç¼–è¾‘å™¨
- [ ] å®ç°æ•°æ®é¢„è§ˆåŠŸèƒ½
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•
- [ ] æ·»åŠ é›†æˆæµ‹è¯•

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

## ğŸ“„ è®¸å¯è¯

MIT

## ğŸ‘¥ ä½œè€…

Kiro AI Assistant

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- åˆ›å»º Issue
- æäº¤ Pull Request

---

**åˆ›å»ºæ—¥æœŸ**: 2025-10-11  
**æœ€åæ›´æ–°**: 2025-10-11  
**ç‰ˆæœ¬**: 1.0.0  
**çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆ
