# 管理端侧边栏简化 - 快速开始指南

## 🚀 快速开始

本指南帮助你快速了解和使用管理端侧边栏的菜单挂载功能。

## 📋 前置条件

1. ✅ 后端已实现菜单挂载 API
2. ✅ 数据库已添加 `mounted_to_admin` 字段
3. ✅ 前端代码已部署

## 🎯 核心功能

### 1. 在设计端挂载菜单

#### 方式一: 表格视图

1. 打开设计端资源管理界面
2. 切换到"表格树视图"
3. 找到要挂载的菜单
4. 点击"挂载"按钮
5. 等待操作完成,看到"挂载成功"提示

#### 方式二: 卡片视图

1. 打开设计端资源管理界面
2. 切换到"卡片视图"
3. 找到要挂载的菜单卡片
4. 将鼠标悬停在卡片上,卡片会翻转
5. 点击链接图标(🔗)
6. 等待操作完成,看到"挂载成功"提示

### 2. 在管理端查看菜单

1. 打开管理端
2. 查看左侧侧边栏
3. 已挂载的菜单会自动显示
4. 点击菜单项可以导航到对应页面

### 3. 取消菜单挂载

1. 在设计端找到已挂载的菜单
2. 点击"已挂载"按钮
3. 等待操作完成,看到"取消挂载成功"提示
4. 管理端侧边栏会自动移除该菜单

## 📸 界面截图

### 设计端 - 表格视图

```
┌─────────────────────────────────────────────────┐
│ 资源管理                                         │
├─────────────────────────────────────────────────┤
│ [新建资源] [卡片视图|表格树视图] [刷新]         │
├─────────────────────────────────────────────────┤
│ 搜索: [资源名称] [菜单编码] [业务模块] [搜索]  │
├─────────────────────────────────────────────────┤
│ ID │ 名称     │ 类型 │ 操作                    │
├─────────────────────────────────────────────────┤
│ 1  │ 用户管理 │ 页面 │ [挂载] [编辑] [删除]   │
│ 2  │ 角色管理 │ 页面 │ [已挂载] [编辑] [删除] │
│ 3  │ 菜单管理 │ 页面 │ [挂载] [编辑] [删除]   │
│ 4  │ 权限管理 │ 页面 │ [已挂载] [编辑] [删除] │
└─────────────────────────────────────────────────┘
```

### 设计端 - 卡片视图

```
┌──────────────┐  ┌──────────────┐  ┌──────────────┐
│  [👤]       │  │  [🔐]       │  │  [📋]       │
│  用户管理    │  │  角色管理    │  │  菜单管理    │
│  user-mgmt   │  │  role-mgmt   │  │  menu-mgmt   │
│              │  │              │  │              │
│ [🔗][✏️][🗑️]│  │ [✓][✏️][🗑️] │  │ [🔗][✏️][🗑️]│
└──────────────┘  └──────────────┘  └──────────────┘
   未挂载            已挂载            未挂载
```

### 管理端 - 侧边栏

```
┌─────────────────────┐
│   低代码平台        │
├─────────────────────┤
│   [👤]             │
│   管理员            │
├─────────────────────┤
│ 📊 仪表板           │
│ 👤 用户管理         │
│ 🔐 角色管理         │
│ 🔑 权限管理         │
└─────────────────────┘
```

## 🔄 操作流程

### 挂载菜单的完整流程

```
1. 设计端 → 资源管理
   ↓
2. 找到要挂载的菜单
   ↓
3. 点击"挂载"按钮
   ↓
4. 系统处理挂载请求
   ↓
5. 显示"挂载成功"提示
   ↓
6. 设计端按钮变为"已挂载"
   ↓
7. 管理端侧边栏自动显示新菜单
```

### 取消挂载的完整流程

```
1. 设计端 → 资源管理
   ↓
2. 找到已挂载的菜单
   ↓
3. 点击"已挂载"按钮
   ↓
4. 系统处理取消挂载请求
   ↓
5. 显示"取消挂载成功"提示
   ↓
6. 设计端按钮变为"挂载"
   ↓
7. 管理端侧边栏自动移除该菜单
```

## 💡 使用技巧

### 1. 批量挂载

如果需要挂载多个菜单:

1. 在表格视图中逐个点击"挂载"按钮
2. 系统会自动同步数据
3. 管理端会实时更新

### 2. 查看挂载状态

- **未挂载**: 按钮显示"挂载"
- **已挂载**: 按钮显示"已挂载"
- **挂载中**: 按钮显示 loading 状态

### 3. 快速定位

在表格视图中:

1. 使用搜索功能快速找到菜单
2. 使用节点类型筛选只显示页面类型
3. 按名称或编码排序

## ⚠️ 注意事项

### 1. 菜单类型

- ✅ **文件夹**: 可以挂载,会显示为菜单组
- ✅ **页面**: 可以挂载,会显示为菜单项
- ❌ **按钮**: 不会在侧边栏显示

### 2. 挂载顺序

- 菜单按 `sortOrder` 字段排序
- 在设计端调整排序后,管理端会自动更新

### 3. 权限控制

- 挂载的菜单仍然受权限控制
- 用户只能看到有权限的菜单

### 4. 数据同步

- 挂载操作会自动刷新两端数据
- 无需手动刷新页面

## 🐛 常见问题

### Q1: 挂载后管理端没有显示?

**A**: 请检查:

1. 是否刷新了管理端页面
2. 菜单是否配置了正确的路由
3. 是否有权限访问该菜单

### Q2: 挂载按钮一直 loading?

**A**: 可能的原因:

1. 网络请求失败
2. 后端 API 未响应
3. 刷新页面重试

### Q3: 取消挂载后管理端还显示?

**A**: 请:

1. 刷新管理端页面
2. 检查浏览器缓存
3. 清除缓存后重试

### Q4: 挂载失败提示错误?

**A**: 请检查:

1. 后端 API 是否正常
2. 数据库连接是否正常
3. 查看浏览器控制台错误信息

## 📞 获取帮助

如果遇到问题:

1. **查看文档**: 阅读完整的设计文档和需求文档
2. **查看日志**: 打开浏览器控制台查看错误信息
3. **联系支持**: 联系开发团队获取帮助

## 🔗 相关文档

- [需求文档](./requirements.md) - 详细的功能需求
- [设计文档](./design.md) - 技术设计方案
- [任务列表](./tasks.md) - 任务分解和进度
- [项目总结](./PROJECT_SUMMARY.md) - 项目完整总结

## 🎯 下一步

完成菜单挂载后,你可以:

1. ✅ 在管理端使用挂载的菜单
2. ✅ 根据需要调整菜单顺序
3. ✅ 添加更多菜单到管理端
4. ✅ 配置菜单权限

---

**祝你使用愉快!** 🎉
