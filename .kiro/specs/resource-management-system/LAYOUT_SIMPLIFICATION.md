# 布局简化说明

## 调整原因

根据用户反馈，页面设计器应该是独立的功能模块，不应该和资源管理并列在导航菜单中。

## 调整内容

### 1. 简化 Layout 组件

**调整前：**

- 顶部导航包含"资源管理"和"页面设计器"两个菜单项
- 两个功能并列显示

**调整后：**

- 只显示"低代码平台 - 资源管理"标题
- 移除导航菜单
- 更简洁的布局

### 2. 路由结构调整

**调整前：**

```typescript
{
  path: '/',
  component: Layout,
  children: [
    { path: '/resource', ... },
    { path: '/designer', ... },  // 在 Layout 内
  ]
}
```

**调整后：**

```typescript
{
  path: '/',
  component: Layout,
  children: [
    { path: '/resource', ... },  // 只有资源管理在 Layout 内
  ]
},
{
  path: '/designer',  // 设计器独立，不在 Layout 内
  component: DesignerNew,
}
```

## 功能说明

### 资源管理页面

- **路径**: `/resource` 或 `/`
- **布局**: 带顶部标题的 Layout
- **功能**:
  - 资源列表管理
  - 搜索和筛选
  - CRUD 操作
  - 树形视图

### 页面设计器

- **路径**: `/designer` 或 `/designer/:id`
- **布局**: 独立全屏布局（无顶部导航）
- **功能**:
  - 可视化页面设计
  - 组件拖拽
  - 属性配置
  - 预览和保存

## 用户流程

1. **访问资源管理**

   ```
   http://localhost:5173/resource
   ```

   显示资源管理界面，可以管理所有菜单资源

2. **访问页面设计器**

   ```
   http://localhost:5173/designer
   ```

   直接进入设计器，全屏工作区

3. **编辑特定页面**
   ```
   http://localhost:5173/designer/123
   ```
   编辑 ID 为 123 的页面

## 界面示意

### 资源管理页面

```
┌─────────────────────────────────────────────┐
│ 低代码平台 - 资源管理                       │ ← 顶部标题
├─────────────────────────────────────────────┤
│                                             │
│  资源管理                    [新建] [刷新]  │
│  ┌───────────────────────────────────────┐ │
│  │ 搜索和筛选区域                        │ │
│  └───────────────────────────────────────┘ │
│  ┌───────────────────────────────────────┐ │
│  │ 资源列表表格                          │ │
│  └───────────────────────────────────────┘ │
│                                             │
└─────────────────────────────────────────────┘
```

### 页面设计器

```
┌─────────────────────────────────────────────┐
│  ┌────┬──────────────────────┬──────────┐  │
│  │组件│     画布区域         │属性面板  │  │ ← 全屏设计器
│  │树  │                      │          │  │
│  └────┴──────────────────────┴──────────┘  │
└─────────────────────────────────────────────┘
```

## 优势

1. **清晰的功能划分**

   - 资源管理专注于数据管理
   - 设计器专注于页面设计
   - 互不干扰

2. **更好的用户体验**

   - 设计器全屏显示，工作区更大
   - 资源管理界面更简洁
   - 减少导航混淆

3. **灵活的访问方式**
   - 可以直接访问任一功能
   - 支持书签和直接链接
   - 便于集成到其他系统

## 文件变更

### 修改文件

1. `src/modules/designer/views/Layout.vue` - 简化布局，移除导航菜单
2. `src/modules/designer/router/index.ts` - 调整路由结构

### 影响范围

- ✅ 资源管理功能不受影响
- ✅ 设计器功能不受影响
- ✅ 预览功能不受影响
- ✅ 登录功能不受影响

## 测试验证

```bash
# 启动应用
npm run dev:designer

# 测试资源管理
访问 http://localhost:5173
或 http://localhost:5173/resource

# 测试设计器
访问 http://localhost:5173/designer
```

---

**更新时间**: 2025-10-14  
**状态**: ✅ 已完成
